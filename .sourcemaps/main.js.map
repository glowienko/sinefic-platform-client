{"version":3,"sources":["../../src/pages/group-list/group-list.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/group-management/group-management.ts","../../src/services/nfc-tag-service.ts","../../src/pages/home/home.ts","../../src/pages/group-management/scan-tag-id-modal/scan-tag-id-modal.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/tags-client/domain/group.ts","../../src/app/app.component.ts","../../src/providers/tags-client/tags-client.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAA0C;AACiD;AAClD;AAE6C;AAEnB;AAGI;AAOvE,IAAa,aAAa;IAKxB,uBAAmB,OAAsB,EAAS,SAAoB,EAC5D,OAAgB,EAAU,UAAsB,EAAS,SAA0B,EACnF,SAA0B;QAFjB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC5D,YAAO,GAAP,OAAO,CAAS;QAAU,eAAU,GAAV,UAAU,CAAY;QAAS,cAAS,GAAT,SAAS,CAAiB;QACnF,cAAS,GAAT,SAAS,CAAiB;IACpC,CAAC;IAED,sCAAc,GAAd;QACE,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAEM,mCAAW,GAAlB,UAAmB,KAAY;QAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qGAAmB,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;IACnF,CAAC;IAEM,yCAAiB,GAAxB;QAAA,iBA4BC;QA3BC,IAAI,QAAQ,GAAG,IAAI,kFAAK,EAAE,CAAC;QAC3B,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;QAEpC,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC9B,KAAK,CAAC,UAAU,CAAC,mEAAmE,CAAC,CAAC;QACtF,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC1B,KAAK,CAAC,SAAS,CAAC;YACd,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,UAAC,IAAI;gBACZ,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,iCAAiC;gBAC7D,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC;gBAElC,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;gBAClC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACtB,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;YAC1B,CAAC;SACF,CAAC,CAAC;QACH,KAAK,CAAC,QAAQ,CAAC;YACb,IAAI,EAAE,OAAO;YACb,WAAW,EAAE,WAAW;SACzB,CAAC,CAAC;QACH,KAAK,CAAC,QAAQ,CAAC;YACb,IAAI,EAAE,QAAQ;YACd,WAAW,EAAE,6BAA6B;SAC3C,CAAC,CAAC;QAEH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAEO,gCAAQ,GAAhB,UAAiB,QAAe;QAAhC,iBAQC;QAPC,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;QAEnC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,QAAQ,CAAC;aAClC,SAAS,CACV,sBAAY,IAAI,YAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAtC,CAAsC,EACtD,eAAK,IAAI,YAAI,CAAC,YAAY,GAAQ,KAAK,EAA9B,CAA8B,CACxC,CAAC;IACJ,CAAC;IAEO,sCAAc,GAAtB;QAAA,iBAIC;QAHC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,CACvB,cAAM,YAAI,CAAC,uBAAuB,EAAE,EAA9B,CAA8B,CACrC,CAAC;IACJ,CAAC;IAEO,+CAAuB,GAA/B;QAAA,iBAMC;QALC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAC/B,UAAC,WAAwB;YACzB,KAAI,CAAC,OAAO,GAAG,WAAW,CAAC;QAC3B,CAAC,CACF,CAAC;IACJ,CAAC;IACH,oBAAC;AAAD,CAAC;AAvEY,aAAa;IAJzB,wEAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;OACG;KAC/B,CAAC;uOAM4B,CAA0C;QACnD,sEAA6B,EAA6C;QACxE,UAAe;AAgErC;SAvEY,aAAa,gB;;;;;;;AChB1B;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,kC;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;;;;;;;;;;;;ACtB0C;AACgC;AAKH;AAEI;AAO3E,IAAa,mBAAmB;IAQ9B,6BAAmB,OAAsB,EAAS,SAAoB,EAAS,UAAsB,EAAS,SAA0B;QAArH,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,eAAU,GAAV,UAAU,CAAY;QAAS,cAAS,GAAT,SAAS,CAAiB;IAAI,CAAC;IAE7I,4CAAc,GAAd;QACE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QACvC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC;QAC3C,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACvC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAChE,CAAC;IAEM,2CAAa,GAApB;QACE,MAAM;IACR,CAAC;IAEM,4CAAc,GAArB;QAAA,iBAMC;QALC,IAAI,cAAc,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAErD,cAAc,CAAC,YAAY,CAAC,sBAAY;YACtC,KAAI,CAAC,UAAU,CAAC,aAAa,CAAC,YAAY,EAAE,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,+CAAiB,GAAxB;QAAA,iBAMC;QALC,IAAI,cAAc,GAAG,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAErD,cAAc,CAAC,YAAY,CAAC,sBAAY;YACtC,KAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,YAAY,EAAE,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,yCAAW,GAAlB;QACE,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC/C,CAAC;IAEO,sDAAwB,GAAhC;QACE,IAAI,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,gGAAkB,CAAC,CAAC;QAC/D,cAAc,CAAC,OAAO,EAAE,CAAC;QACzB,MAAM,CAAC,cAAc,CAAC;IACxB,CAAC;IAEO,mDAAqB,GAA7B,UAA8B,KAAY;QAA1C,iBAKC;QAJC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC;aACtC,SAAS,CACN,UAAC,OAAgB,IAAK,YAAI,CAAC,eAAe,GAAG,OAAO,CAAC,GAAG,EAAlC,CAAkC,CACzD;IACP,CAAC;IAEO,kDAAoB,GAA5B,UAA6B,SAAS,EAAE,YAAY;QAClD,IAAI,CAAC,eAAe,GAAG,SAAS,KAAK,YAAY,GAAG,IAAI,GAAG,KAAK,CAAC;IACnE,CAAC;IAEH,0BAAC;AAAD,CAAC;AA1DY,mBAAmB;IAL/B,wEAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;QACjC,WAAW,uFAAE,CAAuB;OACb;KACxB,CAAC;wBASwI;AAkDzI;SA1DY,mBAAmB,gB;;;;;;;;;;;;;;;;;;;;;;;ACfW;AACoB;AAEtB;AAC0B;AACF;AAKjE,IAAa,aAAa;IAEtB,uBAAoB,OAAgB,EAAU,SAA0B,EAC5D,OAAsB,EAAU,UAAsB;QAD9C,YAAO,GAAP,OAAO,CAAS;QAAU,cAAS,GAAT,SAAS,CAAiB;QAC5D,YAAO,GAAP,OAAO,CAAe;QAAU,eAAU,GAAV,UAAU,CAAY;IAAI,CAAC;IAEhE,sCAAc,GAArB,UAAsB,QAAa;QAAnC,iBAYC;QAXG,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;QACzC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAE1B,IAAI,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CAAC;aACnE,SAAS,CACV,UAAC,WAAW;YACR,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YACzB,KAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC;YACvC,KAAI,CAAC,uBAAuB,EAAE,CAAC;QACnC,CAAC,EACD,eAAK,IAAI,YAAI,CAAC,sBAAsB,EAAE,EAA7B,CAA6B,CAAC,CAAC;IAChD,CAAC;IAEM,sCAAc,GAArB,UAAsB,KAAK;QACvB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,KAAK,EAAE,mBAAmB;YAC1B,OAAO,EAAE,KAAK;YACd,OAAO,EAAE,CAAC,IAAI,CAAC;SAClB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAEM,gDAAwB,GAA/B,UAAgC,QAAa;QACzC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;IAC3B,CAAC;IAEO,4CAAoB,GAA5B,UAA6B,WAAwB;QAArD,iBASC;QARG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE;aACf,IAAI,CAAC;YAEF,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;YAC3D,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;YAEzB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACX,CAAC;IAEO,+CAAuB,GAA/B;QAAA,iBAaC;QAZG,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,KAAK,EAAE,6BAA6B;YACpC,QAAQ,EAAE,SAAS;YACnB,OAAO,EAAE,wCAAwC;YACjD,OAAO,EAAE;gBACL;oBACI,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAM,YAAI,CAAC,cAAc,EAAE,EAArB,CAAqB;iBACvC;aACJ;SACJ,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAEO,sCAAc,GAAtB;QACI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mFAAa,CAAC,CAAC;IACrC,CAAC;IAEO,8CAAsB,GAA9B;QACI,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,KAAK,EAAE,QAAQ;YACf,QAAQ,EAAE,8BAA8B;YACxC,OAAO,EAAE,yCAAyC;YAClD,OAAO,EAAE,CAAC,IAAI,CAAC;SAClB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IACL,oBAAC;AAAD,CAAC;AAvEY,aAAa;IADzB,yEAAU,EAAE;qCAGoB,+DAAO,EAAqB,sEAAe;QACnD,oEAAa,EAAsB,sFAAU;GAHzD,aAAa,CAuEzB;AAvEyB;;;;;;;;;;;;;;;;;;;;;;;ACTgB;AACgB;AAClB;AAEwB;AAQhE,IAAa,QAAQ;IACnB,kBAAoB,QAAkB,EAAU,GAAQ,EAAU,aAA4B,EAAU,SAA0B;QAAlI,iBAKC;QALmB,aAAQ,GAAR,QAAQ,CAAU;QAAU,QAAG,GAAH,GAAG,CAAK;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,cAAS,GAAT,SAAS,CAAiB;QAChI,GAAG,CAAC,OAAO,EAAE,CAAC,IAAI,CAChB,cAAM,YAAI,CAAC,YAAY,EAAE,EAAnB,CAAmB,EACzB,cAAM,YAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAC3B,CAAC;IACJ,CAAC;IAEM,6BAAU,GAAjB;QACE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;QAC5B,IAAI,QAAQ,GAAG,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC;QAC9B,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAEO,gCAAa,GAArB;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,+BAA+B;YACtC,OAAO,EAAE,CAAC,IAAI,CAAC;SAAC,CAAC,CAAC;QACpB,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAEO,+BAAY,GAApB;QACE,8DAA8D;QAC9D,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAEO,kCAAe,GAAvB;QAAA,iBAYC;QAXC,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;aAC3F,SAAS,CACV,UAAC,QAAQ,IAAK,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,EAA3C,CAA2C,EACzD,UAAC,KAAK,IAAK,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,EAAxC,CAAwC,CAClD,CAAC;QAEJ,IAAI,CAAC,GAAG,CAAC,wBAAwB,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;aACpG,SAAS,CACV,UAAC,QAAQ,IAAK,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,EAA3C,CAA2C,EACzD,UAAC,KAAK,IAAK,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,EAAxC,CAAwC,CAAC,CAAC;IACzD,CAAC;IACH,eAAC;AAAD,CAAC;AAvCY,QAAQ;IALpB,wEAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,WAAW,iFAAa;OACE;KAC3B,CAAC;aAEkI;AAsCnI;SAvCY,QAAQ,e;;;;;;;;;;;;;;;;;;;;;;ACbqB;AACgD;AAClD;AAC2B;AAOnE,IAAa,kBAAkB;IAK7B,4BAAmB,OAAsB,EAAS,SAAoB,EAC7D,QAAwB,EAAS,GAAQ,EACxC,SAA0B,EAC3B,aAA4B;QAHlB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAC7D,aAAQ,GAAR,QAAQ,CAAgB;QAAS,QAAG,GAAH,GAAG,CAAK;QACxC,cAAS,GAAT,SAAS,CAAiB;QAC3B,kBAAa,GAAb,aAAa,CAAe;IACrC,CAAC;IAED,2CAAc,GAAd;QAAA,iBAUC;QATC,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;QAEjD,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC,IAAI,CACrB;YACE,KAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC,EACD,cAAM,YAAI,CAAC,aAAa,EAAE,EAApB,CAAoB,CAAC,CAAC;IAGhC,CAAC;IAED,oCAAO,GAAP;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC3C,CAAC;IAEO,0CAAa,GAArB;QACE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAChC,KAAK,EAAE,kCAAkC;YACzC,OAAO,EAAE,CAAC,IAAI,CAAC;SAChB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAEO,yCAAY,GAApB;QACE,8DAA8D;QAC9D,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAEO,4CAAe,GAAvB;QAAA,iBAiBC;QAhBC,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;aAC3F,SAAS,CACV,UAAC,QAAQ,IAAK,YAAI,CAAC,cAAc,CAC/B,KAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CACtD,EAFa,CAEb,EAED,UAAC,KAAK,IAAK,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,EAAxC,CAAwC,CAClD,CAAC;QAEJ,IAAI,CAAC,GAAG,CAAC,wBAAwB,CAAC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC;aACpG,SAAS,CACV,UAAC,QAAQ,IAAK,YAAI,CAAC,cAAc,CAC/B,KAAI,CAAC,aAAa,CAAC,wBAAwB,CAAC,QAAQ,CAAC,CACtD,EAFa,CAEb,EACD,UAAC,KAAK,IAAK,YAAI,CAAC,aAAa,CAAC,cAAc,CAAC,KAAK,CAAC,EAAxC,CAAwC,CAAC,CAAC;IACzD,CAAC;IAEO,2CAAc,GAAtB,UAAuB,KAAoB;QACzC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAEH,yBAAC;AAAD,CAAC;AAhEY,kBAAkB;IAJ9B,wEAAS,CAAC;QACT,QAAQ,EAAE,wBAAwB;OACG;KACtC,CAAC;8IAMsE;QACnD,sEAAc,CAAiB;QAC7B,kFAAe;QACZ,aAAa;AAwDtC;SAhEY,kBAAkB,kB;;;;;;;;;;;ACV4C;AAElC;AAEzC,yGAAsB,EAAE,CAAC,eAAe,CAAC,8DAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJqB;AAClB;AACG;AACC;AACN;AACV;AACH;AACY;AAEZ;AAEM;AACiB;AACkB;AAEd;AAsCnE,IAAa,SAAS;IAAtB;IAAwB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAZ,SAAS;IApCrB,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6DAAK;YACL,kEAAQ;YACR,oFAAa;YACb,sGAAmB;SACpB;QACD,OAAO,EAAE;YACP,gFAAa;YACb,iEAAU;YACV,kEAAW,CAAC,OAAO,CAAC,6DAAK,EAAE,EAAE,EACjC;gBACE,KAAK,EAAE;oBACL,EAAE,YAAY,EAAE,2DAA2D,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,YAAY,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;oBAChK,EAAE,YAAY,EAAE,+FAA+F,EAAE,IAAI,EAAE,oBAAoB,EAAE,OAAO,EAAE,mBAAmB,EAAE,QAAQ,EAAE,KAAK,EAAE,cAAc,EAAE,EAAE,EAAE;iBACjN;aACF,CAAC;YACE,0EAAkB,CAAC,OAAO,EAAE;SAE7B;QACD,SAAS,EAAE,CAAC,+DAAQ,CAAC;QACrB,eAAe,EAAE;YACf,6DAAK;YACL,kEAAQ;YACR,oFAAa;YACb,sGAAmB;SACpB;QACD,SAAS,EAAE;YACT,2EAAS;YACT,iFAAY;YACZ,EAAC,OAAO,EAAE,mEAAY,EAAE,QAAQ,EAAE,wEAAiB,EAAC;YACpD,8DAAG;YACH,OAAO;YACP,uFAAU;SACX;KACF,CAAC;GACW,SAAS,CAAG;AAAH;;;;;;;;;ACrDtB;AAAA;IAAA;IAIA,CAAC;IAAD,YAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACJyC;AACD;AACY;AACM;AACb;AAK9C,IAAa,KAAK;IAGhB,eAAY,QAAkB,EAAE,SAAoB,EAAE,YAA0B;QAFhF,aAAQ,GAAO,kEAAQ,CAAC;QAGtB,QAAQ,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;YACpB,SAAS,CAAC,YAAY,EAAE,CAAC;YACzB,YAAY,CAAC,IAAI,EAAE,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;IACH,YAAC;AAAD,CAAC;AATY,KAAK;IAHjB,wEAAS,CAAC;OACc;KACxB,CAAC;UAIgF;AAMjF;SATY,KAAK,2B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTyB;AAC6B;AAC/B;AACI;AACd;AACE;AAOjC,IAAa,UAAU;IAYrB,oBAAmB,IAAU,EAAS,OAAgB;QAAnC,SAAI,GAAJ,IAAI,CAAM;QAAS,YAAO,GAAP,OAAO,CAAS;QAP9C,eAAU,GAAW,uBAAuB,CAAC,qCAAoC;QACjF,sBAAiB,GAAW,OAAO,CAAC;QACpC,gBAAW,GAAG,SAAS,CAAC;QACxB,iBAAY,GAAW,UAAU,CAAC;QAClC,iBAAY,GAAW,UAAU,CAAC;QAClC,iBAAY,GAAW,UAAU,CAAC;QAKxC,IAAI,CAAC,OAAO,GAAG,IAAI,8DAAO,CAAC,EAAE,cAAc,EAAE,kBAAkB,EAAE,CAAC,CAAC;QAEnE,IAAI,CAAC,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IAC/D,CAAC;IAEM,oCAAe,GAAtB,UAAuB,KAAoB;QACzC,IAAI,OAAO,GAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAE5D,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC;aAC3D,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEM,gCAAW,GAAlB,UAAmB,QAAe;QAChC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,SAAS,GAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;QAExD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC;aACrD,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEM,wCAAmB,GAA1B;QACE,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,UAAU,GAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;QAE1D,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC;aAC3C,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEM,kCAAa,GAApB,UAAqB,SAAiB;QACpC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAE/B,IAAI,UAAU,GAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,IAAG,MAAI,SAAW,IAAG,IAAI,CAAC,YAAY,CAAC;QAE/F,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,CAAC,OAAO,CAAC;aAC3C,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEM,gCAAW,GAAlB,UAAmB,SAAiB;QAClC,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,SAAS,GAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,IAAG,MAAI,SAAW,EAAC;QAE1E,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC;aAC7C,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEM,kCAAa,GAApB,UAAqB,QAAuB,EAAE,SAAiB;QAC7D,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,gBAAgB,GAAQ,IAAI,CAAC,UAAU,IAAG,MAAI,SAAW,IAAG,IAAI,CAAC,YAAY,CAAC;QAElF,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAC,EAAE,IAAI,CAAC,OAAO,CAAC;aACxE,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEM,uCAAkB,GAAzB,UAA0B,KAAoB,EAAE,SAAiB;QAC/D,IAAI,CAAC,uBAAuB,EAAE,CAAC;QAC/B,IAAI,qBAAqB,GAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,WAAW,IAAI,MAAI,SAAW,IAAG,IAAI,CAAC,YAAY,IAAG,MAAI,KAAO,EAAC;QAEzH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,qBAAqB,EAAE,IAAI,CAAC,OAAO,CAAC;aACzD,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC;aACrB,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7B,CAAC;IAEO,4CAAuB,GAA/B;QAAA,iBAUC;QATC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC;YACvC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC;gBACxB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAC/B,UAAC,WAAwB;oBACvB,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,eAAe,EAAE,WAAW,CAAC,KAAK,CAAC,CAAC;oBACxD,KAAI,CAAC,OAAO,GAAG,IAAI,qEAAc,CAAC,EAAE,OAAO,EAAE,KAAI,CAAC,OAAO,EAAE,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAEO,gCAAW,GAAnB,UAAoB,GAAa;QAC/B,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;QACpD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;QACxB,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;QACtB,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC;IACpB,CAAC;IAEO,gCAAW,GAAnB,UAAoB,KAAqB;QAEvC,IAAI,MAAc,CAAC;QACnB,EAAE,CAAC,CAAC,KAAK,YAAY,+DAAQ,CAAC,CAAC,CAAC;YAC9B,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC;YAChC,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC/C,MAAM,GAAM,KAAK,CAAC,MAAM,YAAM,KAAK,CAAC,UAAU,IAAI,EAAE,UAAI,GAAK,CAAC;QAChE,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC5D,CAAC;QACD,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACtB,MAAM,CAAC,2DAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IACH,iBAAC;AAAD,CAAC;AAnHY,UAAU;IADtB,yEAAU,EAAE;qCAac,2DAAI,EAAkB,+DAAO;GAZ3C,UAAU,CAmHtB;AAnHsB","file":"main.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController, ModalController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\n\nimport { GroupManagementPage } from './../../pages/group-management/group-management';\n\nimport { Group } from './../../providers/tags-client/domain/group';\nimport { UserTagData } from './../../providers/tags-client/domain/user-tag-data';\nimport { Content } from './../../providers/tags-client/domain/content';\nimport { TagsClient } from './../../providers/tags-client/tags-client';\n\n@IonicPage()\n@Component({\n  selector: 'page-group-list',\n  templateUrl: 'group-list.html',\n})\nexport class GroupListPage {\n\n  public userTag: UserTagData;\n  public errorMessage: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private storage: Storage, private tagsClient: TagsClient, public modalCtrl: ModalController,\n    private alertCtrl: AlertController) {\n  }\n\n  ionViewDidLoad() {\n    this.getUserTagData();\n  }\n\n  public manageGroup(group: Group) {\n    this.navCtrl.push(GroupManagementPage, { group: group, tagId: this.userTag.id });\n  }\n\n  public showAddGroupPopup() {\n    let newGroup = new Group();\n    let alert = this.alertCtrl.create();\n\n    alert.setTitle('Dodaj grupę');\n    alert.setMessage('Stwórz grupę podając jej nazwę i usugę jaka będzie jej przypisana');\n    alert.addButton('Cofnij');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data) => {\n        newGroup.name = data.nazwa; //sprawdzic co jest w tym data :D\n        newGroup.pluginName = data.plugin;\n\n        console.log(\"created new group:\");\n        console.log(newGroup);\n        this.addGroup(newGroup);\n      }\n    });\n    alert.addInput({\n      name: 'nazwa',\n      placeholder: 'grupa abc'\n    });\n    alert.addInput({\n      name: 'plugin',\n      placeholder: 'geolocalization / messaging'\n    });\n\n    alert.present();\n  }\n\n  private addGroup(newGroup: Group) {\n    newGroup.adminId = this.userTag.id;\n\n    this.tagsClient.createGroup(newGroup)\n      .subscribe(\n      createdGroup => this.userTag.groups.push(createdGroup),\n      error => this.errorMessage = <any>error\n    );\n  }\n\n  private getUserTagData() {\n    this.storage.ready().then(\n      () => this.fetchTagInfoFromStorage()\n    );\n  }\n\n  private fetchTagInfoFromStorage() {\n    this.storage.get('tag-info').then(\n      (userTagData: UserTagData) => {\n      this.userTag = userTagData;\n      }\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group-list/group-list.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 112;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 112\n// module chunks = 2","var map = {\n\t\"../pages/group-list/group-list.module\": [\n\t\t277,\n\t\t1\n\t],\n\t\"../pages/group-management/scan-tag-id-modal/scan-tag-id-modal.module\": [\n\t\t278,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 154;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 154\n// module chunks = 2","import { Component } from '@angular/core';\r\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\r\n\r\nimport { Group } from './../../providers/tags-client/domain/group';\r\nimport { Content } from './../../providers/tags-client/domain/content'\r\nimport { UserTagData } from './../../providers/tags-client/domain/user-tag-data';\r\nimport { TagsClient } from './../../providers/tags-client/tags-client';\r\n\r\nimport { ScanTagIdModalPage } from './scan-tag-id-modal/scan-tag-id-modal';\r\n\r\n@Component({\r\n  selector: 'page-group-management',\r\n  templateUrl: 'group-management.html',\r\n  providers: [TagsClient]\r\n})\r\nexport class GroupManagementPage {\r\n\r\n  private userTagId: Array<Number>;\r\n  public group: Group;\r\n  public groupMembers: Array<UserTagData>;\r\n  public groupContentUrl: String;\r\n  public isTagGroupAdmin: boolean;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public tagsClient: TagsClient, public modalCtrl: ModalController) { }\r\n\r\n  ionViewDidLoad() {\r\n    this.group = this.navParams.data.group;\r\n    this.userTagId = this.navParams.data.tagId;\r\n    this.getContentUrlForGroup(this.group);\r\n    this.evaluateUserTagScope(this.userTagId, this.group.adminId);\r\n  }\r\n\r\n  public openPluginApp() {\r\n    //TODO\r\n  }\r\n\r\n  public addGroupMember() {\r\n    let scanTagIdModal = this.createTagIdScanningModal();\r\n\r\n    scanTagIdModal.onDidDismiss(scannedTagId => {\r\n      this.tagsClient.addTagToGroup(scannedTagId, this.group.name);\r\n    });\r\n  }\r\n\r\n  public deleteGroupMember() {\r\n    let scanTagIdModal = this.createTagIdScanningModal();\r\n\r\n    scanTagIdModal.onDidDismiss(scannedTagId => {\r\n      this.tagsClient.deleteTagFromGroup(scannedTagId, this.group.name);\r\n    });\r\n  }\r\n\r\n  public deleteGroup() {\r\n    this.tagsClient.deleteGroup(this.group.name);\r\n  }\r\n\r\n  private createTagIdScanningModal() {\r\n    let scanTagIdModal = this.modalCtrl.create(ScanTagIdModalPage);\r\n    scanTagIdModal.present();\r\n    return scanTagIdModal;\r\n  }\r\n\r\n  private getContentUrlForGroup(group: Group) {\r\n    this.tagsClient.getContentUrl(group.name)\r\n      .subscribe(\r\n          (content: Content) => this.groupContentUrl = content.url\r\n        )\r\n  }\r\n\r\n  private evaluateUserTagScope(userTagId, groupAdminId)  {\r\n    this.isTagGroupAdmin = userTagId === groupAdminId ? true : false;\r\n  }\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group-management/group-management.ts","import { Injectable } from '@angular/core';\r\nimport { AlertController, NavController } from 'ionic-angular';\r\n\r\nimport { Storage } from '@ionic/storage';\r\nimport { TagsClient } from './../providers/tags-client/tags-client'\r\nimport { GroupListPage } from './../pages/group-list/group-list';\r\n\r\nimport { UserTagData } from './../providers/tags-client/domain/user-tag-data';\r\n\r\n@Injectable()\r\nexport class NfcTagService {\r\n\r\n    constructor(private storage: Storage, private alertCtrl: AlertController,\r\n        private navCtrl: NavController, private tagsClient: TagsClient) { }\r\n\r\n    public tagReadSuccess(tagEvent: any) {\r\n        console.log('in tag read success, tag:');\r\n        console.log(tagEvent.tag);\r\n\r\n        this.tagsClient.authenticateTag(this.extractTagIdFromTagEvent(tagEvent))\r\n            .subscribe(\r\n            (userTagData) => {\r\n                console.log(userTagData);\r\n                this.saveUserTagToStorage(userTagData);\r\n                this.showTagReadSuccessAlert();\r\n            },\r\n            error => this.showApiConnectionError());\r\n    }\r\n\r\n    public failureReadTag(error) {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Tag read failure!',\r\n            message: error,\r\n            buttons: ['Ok']\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    public extractTagIdFromTagEvent(tagEvent: any) {\r\n        return tagEvent.tag.id;\r\n    }\r\n\r\n    private saveUserTagToStorage(userTagData: UserTagData) {\r\n        this.storage.ready()\r\n            .then(() => {\r\n\r\n                console.log('in tag storage ready, saving: user-tag-data');\r\n                console.log(userTagData);\r\n\r\n                this.storage.set('tag-info', userTagData);\r\n            });\r\n    }\r\n\r\n    private showTagReadSuccessAlert() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Pomyślnie odczytano tag nfc',\r\n            subTitle: 'Witaj !',\r\n            message: 'Naciśnij OK, aby korzystać z aplikacji',\r\n            buttons: [\r\n                {\r\n                    text: 'OK',\r\n                    handler: () => this.goToGroupsView()\r\n                }\r\n            ]\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n    private goToGroupsView() {\r\n        this.navCtrl.push(GroupListPage);\r\n    }\r\n\r\n    private showApiConnectionError() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Ooops!',\r\n            subTitle: \"Błąd nawiązywania połączenia\",\r\n            message: 'Nie można pobrać danych taga z serwera.',\r\n            buttons: ['OK']\r\n        });\r\n        alert.present();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/services/nfc-tag-service.ts","\r\nimport { Component } from '@angular/core';\r\nimport { AlertController, Platform } from 'ionic-angular';\r\nimport { NFC } from '@ionic-native/nfc';\r\n\r\nimport { NfcTagService } from './../../services/nfc-tag-service'\r\n\r\n\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html',\r\n  providers: [NfcTagService]\r\n})\r\nexport class HomePage {\r\n  constructor(private platform: Platform, private nfc: NFC, private nfcTagService: NfcTagService, private alertCtrl: AlertController) {\r\n    nfc.enabled().then(\r\n      () => this.onNfcEnabled(),\r\n      () => this.onNfcDisabled()\r\n    );\r\n  }\r\n\r\n  public groupsPage() {\r\n    let tag = { id: [1, 1, 1] };\r\n    let tagEvent = { 'tag': tag };\r\n    this.nfcTagService.tagReadSuccess(tagEvent);\r\n  }\r\n\r\n  private onNfcDisabled() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Potrzebujesz włączonego NFC !', \r\n      buttons: ['Ok']});\r\n    alert.present();\r\n  }\r\n\r\n  private onNfcEnabled() {\r\n    //need to this.nfc.beginSession, but there is no such function\r\n    this.addTagListeners();\r\n  }\r\n\r\n  private addTagListeners() {\r\n    console.log('adding tag listeners');\r\n    this.nfc.addNdefListener(this.nfcTagService.tagReadSuccess, this.nfcTagService.failureReadTag)\r\n      .subscribe(\r\n      (tagEvent) => this.nfcTagService.tagReadSuccess(tagEvent),\r\n      (error) => this.nfcTagService.failureReadTag(error)\r\n      );\r\n\r\n    this.nfc.addTagDiscoveredListener(this.nfcTagService.tagReadSuccess, this.nfcTagService.failureReadTag)\r\n      .subscribe(\r\n      (tagEvent) => this.nfcTagService.tagReadSuccess(tagEvent),\r\n      (error) => this.nfcTagService.failureReadTag(error));\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, AlertController } from 'ionic-angular';\r\nimport { NFC } from '@ionic-native/nfc';\r\nimport { NfcTagService } from './../../../services/nfc-tag-service'\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-scan-tag-id-modal',\r\n  templateUrl: 'scan-tag-id-modal.html',\r\n})\r\nexport class ScanTagIdModalPage {\r\n\r\n\r\n  scannedTagId: Array<Number>\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,\r\n    public viewCtrl: ViewController, public nfc: NFC,\r\n    private alertCtrl: AlertController,\r\n    public nfcTagService: NfcTagService) {\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad ScanTagIdModalPage');\r\n\r\n    this.nfc.enabled().then(\r\n      () => {\r\n        this.onNfcEnabled();\r\n      },\r\n      () => this.onNfcDisabled());\r\n\r\n\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss(this.scannedTagId);\r\n  }\r\n\r\n  private onNfcDisabled() {\r\n    let alert = this.alertCtrl.create({\r\n      title: 'Switch on NFC in your smartphone',\r\n      buttons: ['Ok']\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  private onNfcEnabled() {\r\n    //need to this.nfc.beginSession, but there is no such function\r\n    this.addTagListeners();\r\n  }\r\n\r\n  private addTagListeners() {\r\n    console.log('adding tag listeners');\r\n    this.nfc.addNdefListener(this.nfcTagService.tagReadSuccess, this.nfcTagService.failureReadTag)\r\n      .subscribe(\r\n      (tagEvent) => this.tagReadSuccess(\r\n        this.nfcTagService.extractTagIdFromTagEvent(tagEvent)\r\n      ),\r\n\r\n      (error) => this.nfcTagService.failureReadTag(error)\r\n      );\r\n\r\n    this.nfc.addTagDiscoveredListener(this.nfcTagService.tagReadSuccess, this.nfcTagService.failureReadTag)\r\n      .subscribe(\r\n      (tagEvent) => this.tagReadSuccess(\r\n        this.nfcTagService.extractTagIdFromTagEvent(tagEvent)\r\n      ),\r\n      (error) => this.nfcTagService.failureReadTag(error));\r\n  }\r\n\r\n  private tagReadSuccess(tagId: Array<Number>) {\r\n    this.scannedTagId = tagId;\r\n    this.dismiss();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/group-management/scan-tag-id-modal/scan-tag-id-modal.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\r\nimport { ErrorHandler, NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { HttpModule } from '@angular/http';\r\nimport { NFC } from '@ionic-native/nfc';\r\nimport { IonicStorageModule } from '@ionic/storage';\r\n\r\nimport { MyApp } from './app.component';\r\n\r\nimport { HomePage } from '../pages/home/home';\r\nimport { GroupListPage } from '../pages/group-list/group-list';\r\nimport { GroupManagementPage } from '../pages/group-management/group-management';\r\n\r\nimport { TagsClient } from './../providers/tags-client/tags-client'\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    HomePage,\r\n    GroupListPage,\r\n    GroupManagementPage\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpModule,\r\n    IonicModule.forRoot(MyApp),\r\n    IonicStorageModule.forRoot()\r\n\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    HomePage,\r\n    GroupListPage,\r\n    GroupManagementPage\r\n  ],\r\n  providers: [\r\n    StatusBar,\r\n    SplashScreen,\r\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\r\n    NFC,\r\n    Storage,\r\n    TagsClient\r\n  ]\r\n})\r\nexport class AppModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","export class Group {\r\n    name: string\r\n    pluginName: string // eg. Geolocation, Message sending\r\n    adminId: Array<Number>;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tags-client/domain/group.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { HomePage } from '../pages/home/home';\r\n\r\n@Component({\r\n  templateUrl: 'app.html'\r\n})\r\nexport class MyApp {\r\n  rootPage:any = HomePage;\r\n\r\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\r\n    platform.ready().then(() => {\r\n      statusBar.styleDefault();\r\n      splashScreen.hide();\r\n    });\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Injectable } from '@angular/core';\r\nimport { Http, Response, Headers, RequestOptions } from '@angular/http';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/catch';\r\n\r\nimport { UserTagData } from './domain/user-tag-data';\r\nimport { Content } from './domain/content';\r\nimport { Group } from './domain/group';\r\n\r\n@Injectable()\r\nexport class TagsClient {\r\n\r\n  private headers: Headers;\r\n  private options: RequestOptions;\r\n\r\n  private server_url: string = 'http://localhost:9595';// TODO: should be taken from config\r\n  private auth_request_path: string = '/auth';\r\n  private groups_path = '/groups';\r\n  private content_path: string = '/content';\r\n  private plugins_path: string = '/plugins';\r\n  private members_path: string = '/members';\r\n\r\n  constructor(public http: Http, public storage: Storage) {\r\n\r\n\r\n    this.headers = new Headers({ 'Content-Type': 'application/json' });\r\n\r\n    this.options = new RequestOptions({ headers: this.headers });\r\n  }\r\n\r\n  public authenticateTag(tagId: Array<Number>): Observable<UserTagData> {\r\n    let authUrl: any = this.server_url + this.auth_request_path;\r\n\r\n    return this.http.post(authUrl, { tagId: tagId }, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  public createGroup(newGroup: Group): Observable<Group> {\r\n    this.addAuthHeaderIfNotExist();\r\n    let groupsUrl: any = this.server_url + this.groups_path;\r\n\r\n    return this.http.post(groupsUrl, newGroup, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  public getAvailablePlugins(): Observable<Array<String>> {\r\n    this.addAuthHeaderIfNotExist();\r\n    let pluginsUrl: any = this.server_url + this.plugins_path;\r\n\r\n    return this.http.get(pluginsUrl, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  public getContentUrl(groupName: string): Observable<Content> {\r\n    this.addAuthHeaderIfNotExist();\r\n\r\n    let contetnUrl: any = this.server_url + this.groups_path + `/${groupName}` + this.content_path;\r\n\r\n    return this.http.get(contetnUrl, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  public deleteGroup(groupName: string): Observable<Group> {\r\n    this.addAuthHeaderIfNotExist();\r\n    let groupsUrl: any = this.server_url + this.groups_path + `/${groupName}`;\r\n\r\n    return this.http.delete(groupsUrl, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  public addTagToGroup(newTagId: Array<Number>, groupName: string) {\r\n    this.addAuthHeaderIfNotExist();\r\n    let addTagTogroupUrl: any = this.server_url + `/${groupName}` + this.members_path;\r\n\r\n    return this.http.post(addTagTogroupUrl, {newTagId: newTagId}, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  public deleteTagFromGroup(tagId: Array<Number>, groupName: string) {\r\n    this.addAuthHeaderIfNotExist();\r\n    let deleteTagFromGroupUrl: any = this.server_url + this.groups_path +  `/${groupName}` + this.members_path + `/${tagId}`;\r\n\r\n    return this.http.delete(deleteTagFromGroupUrl, this.options)\r\n      .map(this.extractData)\r\n      .catch(this.handleError);\r\n  }\r\n\r\n  private addAuthHeaderIfNotExist() {\r\n    if (!this.headers.has('Authorization')) {\r\n      this.storage.ready().then(() => {\r\n        this.storage.get('tag-info').then(\r\n          (UserTagData: UserTagData) => {\r\n            this.headers.append('Authorization', UserTagData.token);\r\n            this.options = new RequestOptions({ headers: this.headers });\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  private extractData(res: Response) {\r\n    console.log('in extract data, tags api, response:');\r\n    console.log(res.json());\r\n    let body = res.json();\r\n    return body || {};\r\n  }\r\n\r\n  private handleError(error: Response | any) {\r\n\r\n    let errMsg: string;\r\n    if (error instanceof Response) {\r\n      const body = error.json() || '';\r\n      const err = body.error || JSON.stringify(body);\r\n      errMsg = `${error.status} - ${error.statusText || ''} ${err}`;\r\n    } else {\r\n      errMsg = error.message ? error.message : error.toString();\r\n    }\r\n    console.error(errMsg);\r\n    return Observable.throw(errMsg);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tags-client/tags-client.ts"],"sourceRoot":""}